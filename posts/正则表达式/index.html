<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Zeus">
  
  
  
  <link rel="prev" href="https://h-zeus.github.io/posts/shell-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" />
  <link rel="next" href="https://h-zeus.github.io/posts/php%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/" />
  <link rel="canonical" href="https://h-zeus.github.io/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           正则表达式 | My Site
       
  </title>
  <meta name="title" content="正则表达式 | My Site">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/h-zeus.github.io\/"
    },
    "articleSection" : "posts",
    "name" : "正则表达式",
    "headline" : "正则表达式",
    "description" : "常用符号 ^ 匹配输入字符串的开始位置 \x2b 匹配一个或多个字符（至少要有一个） $ 匹配输入字符串的结束位置 * 匹配0个或多个字符串（可以没有，也可以有） ? 最多出现一次 \\ 转义 . 除换行之外的任何字符 | 指明两项之间选择一项 \/^c\/ =\x26gt; 匹配\x26#39;c\x26#39;开头的字符串 \/^cm\x2b\/ =\x26gt; 匹配\x26#39;cm\x26#39;开头的字符串 \/^cm\x2bk$\/ =\x26gt; 匹配\x26#39;cmk\x26#39;,\x26#39;cmmmmk\x26#39;中间不能有其他字符 \/^cm\x2ba\x2bb*k$\/ =\x26gt; 匹配\x26#39;cmak\x26#39;, \x26#39;cmmmaaak\x26#39;, \x26#39;cmmmaaaabbbbk\x26#39;等 \/^cma?k$\/ =\x26gt; 匹配\x26#39;cmak\x26#39;或\x26#39;cmk\x26#39; \/^cm\\\\\x2bk$\/ =\x26gt; 匹配\x26#39;cm\\k\x26#39;,\x26#39;cm\\\\\\k\x26#39;等 \/^cm.*k$\/ =\x26gt; 匹配\x26#39;cm\x26#39;开头，\x26#39;k\x26#39;结尾的字符串 \/^cm|hk$\/ =\x26gt; 匹配\x26#39;cmk\x26#39;,\x26#39;chk\x26#39; 转义字符 \\f 匹配一个换页符 \\n 匹配换行符 \\r 匹配回车符 \\s 匹配任何空白字符，如空格，制表符，换页符等 \\S 匹配任何非空白字符 \\t 匹配制表符 \\v 匹配垂直制表符 \\d 匹配数字 \\D 匹配非数字 \\w 匹配下划线在内的任何单词字符：_ A-Z a-z 0-9 \\b 匹配字符边界，字符与空格之间的位置 \/\\b[\\w]\x2b\\b\/ \/\/ 匹配出一个单词  表达式  [ ] 中括号表达式，字符集  \/^c[0-9]\x2bk$\/ =\x26gt;匹配\x27c\x27开头，\x27k\x27结尾，中间至少有一个数字的字符串 \/^c[0-9A-Z]\x2bk$\/ =\x26gt;匹配\x27c\x27开头，\x27k\x27结尾，中间至少有一个数字或大写字母的字符串 \/^c[0-9A-Za-z_]\x2bk$\/ =\x26gt; 等价于 \/^c\\w\x2bk$\/ \/^c[^0-9]\x2bk$\/ =\x26gt; 中括号内的^表示除此集合之外的字符 {} 限定出现次数  \/^[0-9]{6}$\/ =\x26gt; 匹配6位数字 \/^[0-9]{4,6}$\/ =\x26gt; 匹配4到6位数字 () 子表达式，可以看成一个字符  示例解析 \/^(-|\\\x2b)?",
    "inLanguage" : "en-us",
    "author" : "Zeus",
    "creator" : "Zeus",
    "publisher": "Zeus",
    "accountablePerson" : "Zeus",
    "copyrightHolder" : "Zeus",
    "copyrightYear" : "2020",
    "datePublished": "2020-04-17 00:00:00 \x2b0000 UTC",
    "dateModified" : "2020-04-17 00:00:00 \x2b0000 UTC",
    "url" : "https:\/\/h-zeus.github.io\/posts\/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F\/",
    "wordCount" : "189",
    "keywords" : [  "My Site"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://h-zeus.github.io/">My Site</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://h-zeus.github.io/">My Site</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">正则表达式</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://h-zeus.github.io/" rel="author">Zeus</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-04-17 itemprop="datePublished">April 17, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://h-zeus.github.io/categories/%E7%BC%96%E7%A8%8B%E5%B8%B8%E8%AF%86/"> 编程常识 </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <h3 id="常用符号">常用符号</h3>
<pre><code>^ 匹配输入字符串的开始位置
+ 匹配一个或多个字符（至少要有一个）
$ 匹配输入字符串的结束位置
* 匹配0个或多个字符串（可以没有，也可以有）
? 最多出现一次
\ 转义
. 除换行之外的任何字符
| 指明两项之间选择一项
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">/^c/                =&gt; 匹配&#39;c&#39;开头的字符串
/^cm+/              =&gt; 匹配&#39;cm&#39;开头的字符串
/^cm+k$/            =&gt; 匹配&#39;cmk&#39;,&#39;cmmmmk&#39;中间不能有其他字符
/^cm+a+b*k$/        =&gt; 匹配&#39;cmak&#39;, &#39;cmmmaaak&#39;, &#39;cmmmaaaabbbbk&#39;等
/^cma?k$/           =&gt; 匹配&#39;cmak&#39;或&#39;cmk&#39;
/^cm\\+k$/          =&gt; 匹配&#39;cm\k&#39;,&#39;cm\\\k&#39;等
/^cm.*k$/           =&gt; 匹配&#39;cm&#39;开头，&#39;k&#39;结尾的字符串
/^cm|hk$/           =&gt; 匹配&#39;cmk&#39;,&#39;chk&#39;
</code></pre></div><h3 id="转义字符">转义字符</h3>
<pre><code>\f 匹配一个换页符
\n 匹配换行符
\r 匹配回车符
\s 匹配任何空白字符，如空格，制表符，换页符等
\S 匹配任何非空白字符
\t 匹配制表符
\v 匹配垂直制表符
\d 匹配数字
\D 匹配非数字
\w 匹配下划线在内的任何单词字符：_ A-Z a-z 0-9
\b 匹配字符边界，字符与空格之间的位置
</code></pre><pre><code>/\b[\w]+\b/   // 匹配出一个单词
</code></pre>
<h3 id="表达式">表达式</h3>
<ol>
<li><code>[ ]</code> 中括号表达式，字符集</li>
</ol>
<pre><code>/^c[0-9]+k$/          =&gt;匹配'c'开头，'k'结尾，中间至少有一个数字的字符串
/^c[0-9A-Z]+k$/       =&gt;匹配'c'开头，'k'结尾，中间至少有一个数字或大写字母的字符串
/^c[0-9A-Za-z_]+k$/   =&gt; 等价于 /^c\w+k$/ 
/^c[^0-9]+k$/         =&gt; 中括号内的^表示除此集合之外的字符
</code></pre><ol start="2">
<li><code>{}</code> 限定出现次数</li>
</ol>
<pre><code>/^[0-9]{6}$/          =&gt; 匹配6位数字
/^[0-9]{4,6}$/        =&gt; 匹配4到6位数字
</code></pre><ol start="3">
<li><code>()</code> 子表达式，可以看成一个字符</li>
</ol>
<h3 id="示例解析">示例解析</h3>
<pre><code>/^(-|\+)?[1-9][0-9]*(\.[0-9]{1,6})?$/

匹配可带正负号的实数（+-1.0之间的小数无法匹配）
(-|\+)         表示匹配'-'或者'+'，由于'+'具有特定含义，需要转义
()?            表示括号内匹配的内容最多出现一次
[1-9][0-9]*    表示匹配1-9打头的多位数字
\.[0-9]{1,6}   表示匹配1到6位小数部分，'.'需要转义
这个表达式可以匹配可带正负号，最多6位小数的实数，但是不能匹配出±1.0之间的小数，略显尴尬，主要原因是这里强制要求数字首位必须是1-9，这样做的原因不匹配这样的数字： 000123.56
为了解决这个问题，可以加个选择条件([1-9][0-9]*)|0, 开头可以有一个0

/^(-|\+)?(([1-9][0-9]*)|0)(\.[0-9]{1,6})?$/   完美解决
</code></pre><h3 id="捕获组">捕获组</h3>
<ol>
<li><strong>普通捕获组</strong></li>
</ol>
<blockquote>
<p>捕获组就是把正则表达式中子表达式匹配的内容，保存到内存中以数字编号或显式命名的组里，方便后面引用。</p>
</blockquote>
<pre><code>编号规则：按照’(‘编号出现的顺序，从左到右，从1开始编号
(\d{4})-(\d{2}-(\d\d))
捕获组1：\d{4}
捕获组2：\d{2}-(\d\d)
捕获组3：\d\d
</code></pre><ol start="2">
<li><strong>命名捕获组</strong></li>
</ol>
<pre><code>编号规则：可按name引用，也可按编号引用，编号规则也是按’(‘出现的顺序开始编号
当两者混用时，先给普通捕获组编号，再给命名捕获组编号
(\d{4})-(?&lt;date&gt;\d{2}-(\d\d))
捕获组1：\d{4}
捕获组2：\d\d
捕获组3：(?&lt;date&gt;\d{2}-(\d\d))
</code></pre><h3 id="反向引用">反向引用</h3>
<pre><code>捕获组捕获到的内容在正则表达式内部进行引用，则为反向引用
通过编号引用： \number, 如 \1, \2
通过命名引用： \k\
/(ab)\1/      //匹配'abab', \1表示(ab)匹配到的内容
/(ab)\1{2}/   //匹配'ababab', \1表示(ab)匹配到的内容
</code></pre><h3 id="正向预查">正向预查</h3>
<blockquote>
<p>正向匹配： (?=pattern)
正向不匹配： (?!pattern)’</p>
</blockquote>
<pre><code>/\b[\w]+(?=ing\b)/   

//匹配的字符串满足'\b[\w]+',而且后面需要跟ing
//符合此规则的字符串有：coming，going，但comingx 不符合
</code></pre><h3 id="用法">用法</h3>
<blockquote>
<p>正则表达式最基本的用法有验证字符串是否合法和提取子字符串</p>
</blockquote>
<ol>
<li>验证表单—验证邮箱是否合法
/^\w+@\w+.\w+$/     // 匹配**@**.**这种类型</li>
<li>提取html中img元素的src和name的值</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">&lt;img alt=&#34;&#34; border=&#34;0&#34; name=&#34;g6-o44-1&#34; onload=&#34;DrawImage&#34; src=&#34;/bmp/foo1.jpg&#34; /&gt;

/&lt;img\b(?=(?:(?!name=).)*name=([&#39;&#34;]?)([^&#39;&#34;\s&gt;]+)\1)(?:(?!src=).)*src=([&#39;&#34;]?)([^&#39;&#34;\s&gt;]+)\3[^&gt;]*&gt;/i
//捕获组里面\2 和 \4分别为name和src的值

上述表达式如何理解呢？

首先，先把正向预查删了，更好理解，如下：
/&lt;img\b(?:(?!src=).)*src=([&#39;&#34;]?)([^&#39;&#34;\s&gt;]+)\3[^&gt;]*&gt;/i

(?:(?!src=).)* 这个表示不包含子串’src=’和’\n’的任意字符
([‘”]?)([^’”\s&gt;]+)\3 中，\3 表示的就是([‘”]?)匹配的结果，组合起来就是’**’,”**”或**,那么中间的就是匹配src的值了，([^’”\s&gt;]+), 排除掉了’,”,空白字符以及’&gt;’，这样就顺利把src的值取到了。
那怎么取name的值呢，因为name和src的相对位置可能不同，所以不知直接套用取src的方法了，这里采用了正向预查的方法，其实也跟取src的值原理一样，不过是放在预查里面

(?=(?:(?!name=).)*name=([&#39;&#34;]?)([^&#39;&#34;\s&gt;]+)\1)
</code></pre></div><h3 id="修饰符">修饰符</h3>
<pre><code>i 表示不区分大小写
g 全局搜索（查找所有匹配而非在找到第一个匹配后停止）
m 多行匹配
</code></pre>
    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Zeus </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://h-zeus.github.io/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/>https://h-zeus.github.io/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://h-zeus.github.io/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://h-zeus.github.io/posts/shell-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="prev" rel="prev" title="Shell 基本语法"><i class="iconfont icon-left"></i>&nbsp;Shell 基本语法</a>
         
        
        <a href="https://h-zeus.github.io/posts/php%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/" class="next" rel="next" title="PHP垃圾回收机制">PHP垃圾回收机制&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2018 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://h-zeus.github.io/">Zeus</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>

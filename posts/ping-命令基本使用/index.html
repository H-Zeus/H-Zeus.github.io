<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Zeus">
  
  
  
  <link rel="prev" href="https://h-zeus.github.io/posts/linux-expect-%E7%94%A8%E6%B3%95/" />
  
  <link rel="canonical" href="https://h-zeus.github.io/posts/ping-%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Ping 命令基本使用 | My Site
       
  </title>
  <meta name="title" content="Ping 命令基本使用 | My Site">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/h-zeus.github.io\/"
    },
    "articleSection" : "posts",
    "name" : "Ping 命令基本使用",
    "headline" : "Ping 命令基本使用",
    "description" : "此文章为 Windows 系统下的 cmd，在 Linux\/Mac 上可能存在差异 一、ping 基本使用详解 在网络中ping是一个十分强大的TCP\/IP工具。它的作用主要为：\n1.用来检测网络的连通情况和分析网络速度\n2.根据域名得到服务器IP\n3.根据ping返回的TTL值来判断对方所使用的操作系统及数据包经过路由器数量\n我们通常会用它来直接ping ip地址，来测试网络的连通情况 类如这种，直接ping ip地址或网关，ping通会显示出以上数据，有朋友可能会问，bytes=32；time\x26lt;1ms；TTL=128 这些是什么意思。\nbytes：数据包大小，也就是字节 time：响应时间，这个时间越小，说明你连接这个地址速度越快 ttl：Time To Live,表示DNS记录在DNS服务器上存在的时间，它是IP协议包的一个值，告诉路由器该数据包何时需要被丢弃。可以通过Ping返回的TTL值大小，粗略地判断目标系统类型是Windows系列还是UNIX\/Linux系列  默认情况下各系统 TTL 值\nLinux =\x26gt; 64或255\nWindowsNT\/2000\/XP =\x26gt; 128\nWindows98 =\x26gt; 32\nUNIX =\x26gt; 255\n因此一般TTL值：\n100~130ms之间，Windows系统\n240~255ms之间，UNIX\/Linux系统\n ping命令除了直接ping网络的ip地址，验证网络畅通和速度之外，它还有这些用法 二、ping -t 的使用 不间断地 Ping 指定计算机，直到管理员中断。\n这就说明电脑连接路由器是通的，网络效果很好。下面按按住键盘的Ctrl\x2bc终止它继续ping下去，就会停止了，会总结出运行的数据包有多少，通断的有多少了。\n三、ping -a 的使用 ping -a解析计算机名与NetBios名。就是可以通过ping它的ip地址，可以解析出主机名。 四、ping -n 的使用 在默认情况下，一般都只发送四个数据包，通过这个命令可以自己定义发送的个数，对衡量网络速度很有帮助，比如我想测试发送10个数据包的返回的平均时间为多少，最快时间为多少，最慢时间为多少就可以通过以下获知：\n从以上我就可以知道在给47.93.187.142发送10个数据包的过程当中，返回了10个，没有丢失，这10个数据包当中返回速度最快为32ms，最慢为55ms，平均速度为37ms。说明我的网络良好。\n如果对于一些不好的网络，比如监控系统中非常卡顿，这样测试，返回的结果可能会显示出丢失出一部分，如果丢失的比较多的话，那么就说明网络不好，可以很直观的判断出网络的情况。\n五、ping -l size 的使用 ping -l size：发送size指定大小的到目标主机的数据包。\n在默认的情况下Windows的ping发送的数据包大小为32byt，最大能发送65500byt。当一次发送的数据包大于或等于65500byt时，将可能导致接收方计算机宕机。所以微软限制了这一数值；这个参数配合其它参数以后危害非常强大，比如攻击者可以结合-t参数实施DOS攻击。（所以它具有危险性，不要轻易向别人计算机使用）。\n例如：ping -l 65500 -t 211.",
    "inLanguage" : "en-us",
    "author" : "Zeus",
    "creator" : "Zeus",
    "publisher": "Zeus",
    "accountablePerson" : "Zeus",
    "copyrightHolder" : "Zeus",
    "copyrightYear" : "2020",
    "datePublished": "2020-05-12 10:45:53 \x2b0800 CST",
    "dateModified" : "2020-05-12 10:45:53 \x2b0800 CST",
    "url" : "https:\/\/h-zeus.github.io\/posts\/ping-%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\/",
    "wordCount" : "116",
    "keywords" : [  "My Site"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://h-zeus.github.io/">My Site</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://h-zeus.github.io/">My Site</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
             <div class="container">
                 
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Ping 命令基本使用</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://h-zeus.github.io/" rel="author">Zeus</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-05-12 itemprop="datePublished">May 12, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://h-zeus.github.io/categories/linux/"> Linux </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        
            
        

        
        
     
          
          
          

          
          
          

          <h4 id="此文章为-windows-系统下的-cmd在-linuxmac-上可能存在差异">此文章为 Windows 系统下的 cmd，在 Linux/Mac 上可能存在差异</h4>
<h3 id="一ping-基本使用详解">一、ping 基本使用详解</h3>
<p>在网络中ping是一个十分强大的TCP/IP工具。它的作用主要为：<br>
1.用来检测网络的连通情况和分析网络速度<br>
2.根据域名得到服务器IP<br>
3.根据ping返回的TTL值来判断对方所使用的操作系统及数据包经过路由器数量</p>
<p><strong>我们通常会用它来直接ping ip地址，来测试网络的连通情况</strong>
<img src="/images/other/ping1.jpeg" alt=""></p>
<p>类如这种，直接ping ip地址或网关，ping通会显示出以上数据，有朋友可能会问，bytes=32；time&lt;1ms；TTL=128 这些是什么意思。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">bytes：数据包大小，也就是字节
time：响应时间，这个时间越小，说明你连接这个地址速度越快
ttl：Time To Live,表示DNS记录在DNS服务器上存在的时间，它是IP协议包的一个值，告诉路由器该数据包何时需要被丢弃。可以通过Ping返回的TTL值大小，粗略地判断目标系统类型是Windows系列还是UNIX/Linux系列
</code></pre></div><blockquote>
<p>默认情况下各系统 TTL 值<br>
<code>Linux =&gt; 64或255</code><br>
<code>WindowsNT/2000/XP =&gt; 128</code><br>
<code>Windows98 =&gt; 32</code><br>
<code>UNIX =&gt; 255</code><br>
因此一般TTL值：<br>
<code>100~130ms之间，Windows系统</code><br>
<code>240~255ms之间，UNIX/Linux系统</code></p>
</blockquote>
<p><strong>ping命令除了直接ping网络的ip地址，验证网络畅通和速度之外，它还有这些用法</strong>
<img src="/images/other/ping2.jpeg" alt=""></p>
<h3 id="二ping--t-的使用">二、ping -t 的使用</h3>
<p>不间断地 Ping 指定计算机，直到管理员中断。<br>
<img src="/images/other/ping3.jpeg" alt=""><br>
这就说明电脑连接路由器是通的，网络效果很好。下面按按住键盘的Ctrl+c终止它继续ping下去，就会停止了，会总结出运行的数据包有多少，通断的有多少了。</p>
<h3 id="三ping--a-的使用">三、ping -a 的使用</h3>
<p><code>ping -a</code>解析计算机名与NetBios名。就是可以通过ping它的ip地址，可以解析出主机名。
<img src="/images/other/ping4.jpeg" alt=""></p>
<h3 id="四ping--n-的使用">四、ping -n 的使用</h3>
<p>在默认情况下，一般都只发送四个数据包，通过这个命令可以自己定义发送的个数，对衡量网络速度很有帮助，比如我想测试发送10个数据包的返回的平均时间为多少，最快时间为多少，最慢时间为多少就可以通过以下获知：<br>
<img src="/images/other/ping5.jpeg" alt=""><br>
从以上我就可以知道在给47.93.187.142发送10个数据包的过程当中，返回了10个，没有丢失，这10个数据包当中返回速度最快为32ms，最慢为55ms，平均速度为37ms。说明我的网络良好。<br>
如果对于一些不好的网络，比如监控系统中非常卡顿，这样测试，返回的结果可能会显示出丢失出一部分，如果丢失的比较多的话，那么就说明网络不好，可以很直观的判断出网络的情况。</p>
<h3 id="五ping--l-size-的使用">五、ping -l size 的使用</h3>
<p><code>ping -l size</code>：发送size指定大小的到目标主机的数据包。<br>
在默认的情况下Windows的ping发送的数据包大小为32byt，最大能发送65500byt。当一次发送的数据包大于或等于65500byt时，将可能导致接收方计算机宕机。所以微软限制了这一数值；这个参数配合其它参数以后危害非常强大，比如攻击者可以结合-t参数实施DOS攻击。（所以它具有危险性，不要轻易向别人计算机使用）。<br>
<strong>例如：ping -l 65500 -t 211.84.7.46</strong><br>
会连续对IP地址执行ping命令，直到被用户以Ctrl+C中断。
<img src="/images/other/ping6.jpeg" alt=""><br>
这样它就会不停的向211.84.7.46计算机发送大小为65500byt的数据包，如果你只有一台计算机也许没有什么效果，但如果有很多计算机那么就可以使对方完全瘫痪，网络严重堵塞，由此可见威力非同小可。</p>
<h3 id="六ping--r-count-的使用">六、ping -r count 的使用</h3>
<p>在“记录路由”字段中记录传出和返回数据包的路由，探测经过的<br>
路由个数，但最多只能跟踪到9个路由。<br>
<code>ping -n 1 -r 9 202.102.224.25</code> （发送一个数据包，最多记录9个路由）
<img src="/images/other/ping7.jpeg" alt=""><br>
将经过 9个路由都显示出来了，可以看上图。<br>
ping命令用的较多的就这6类的，大家有可能在项目中会用到的。</p>
<h3 id="七批量-ping-网段">七、批量 ping 网段</h3>
<p>对于一个网段ip地址众多，如果单个检测实在麻烦，那么我们可以直接批量ping网段检测，那个ip地址出了问题，一目了然。<br>
先看代码，直接在命令行窗口输入：<br>
<code>for /L %D in (1,1,255) do ping 10.168.1.%D</code>
IP地址段修改成你要检查的IP地址段。
<img src="/images/other/ping8.jpeg" alt=""><br>
当输入批量命令后，那么它就自动把网段内所有的ip地址都ping完为止。<br>
那么这段<code>for /L %D in(1,1,255) do ping 10.168.1.%D</code> 代码是什么意思呢？<br>
代码中的这个(1,1,255)就是网段起与始，就是检测网段192.168.1.1到192.168.1.255之间的所有的ip地址，每次逐增1，直接到1到255这255个ip检测完为止。</p>
<p>ps：文章引用自 <a href="https://www.toutiao.com/a6783191796659782148">https://www.toutiao.com/a6783191796659782148</a></p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Zeus </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://h-zeus.github.io/posts/ping-%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/>https://h-zeus.github.io/posts/ping-%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>


    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://h-zeus.github.io/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://h-zeus.github.io/posts/linux-expect-%E7%94%A8%E6%B3%95/" class="prev" rel="prev" title="Linux Expect 用法"><i class="iconfont icon-left"></i>&nbsp;Linux Expect 用法</a>
         
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
    <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk@latest/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: 'e66088a4a2a13aaf85c8',
        clientSecret: 'ec8158b5a1261b452497cb88b355017915d64b48',
        repo: 'blog-comments',
        owner: 'H-Zeus',
        admin: ['H-Zeus'],
        id: location.pathname.slice(0,30),
        distractionFreeMode: true, 
    });
    gitalk.render('gitalk-container');
</script>
</article>
             </div>
         </main>
        <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2018 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://h-zeus.github.io/">Zeus</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span>
          <span id="busuanzi_container_site_uv"> | uv <span id="busuanzi_value_site_uv"></span></span>
          <span id="busuanzi_container_site_pv"> & pv <span id="busuanzi_value_site_pv"></span></span>
          <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



    </div>
  </body>
</html>